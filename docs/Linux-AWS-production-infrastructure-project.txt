
Production-Grade Auto-Scaling Web Application (Ubuntu + AWS) (or) Linux-AWS-production-infrastructure-project




________________________________________
ğŸ§  What You Are Building (Simple Words)
Users â†’ Load Balancer â†’ Multiple Ubuntu EC2 servers â†’ Database
If traffic increases â†’ new Ubuntu servers start automatically
If one server fails â†’ replaced automatically
________________________________________
âš™ï¸ PREREQUISITES
â€¢	AWS account
â€¢	Basic Linux commands
â€¢	Free Tier is enough
________________________________________
ğŸ§© STEP 1: Create IAM Role for EC2 (Security)
Why?
So EC2 can:
â€¢	Send logs to CloudWatch
â€¢	Access S3 (no passwords inside server)
Steps
1.	Go to IAM â†’ Roles â†’ Create role
2.	Select AWS service â†’ EC2
3.	Attach policies:
o	CloudWatchAgentServerPolicy
o	AmazonS3ReadOnlyAccess
4.	Name role:
5.	EC2-CloudWatch-Role
________________________________________
ğŸ§© STEP 2: Launch Ubuntu EC2 Instance
EC2 Configuration
â€¢	AMI: Ubuntu Server 22.04 LTS
â€¢	Instance type: t2.micro
â€¢	Key pair: create or use existing
â€¢	IAM role: EC2-CloudWatch-Role
â€¢	Security Group:
o	SSH â†’ 22 â†’ My IP
o	HTTP â†’ 80 â†’ Anywhere
o	HTTPS â†’ 443 â†’ Anywhere
________________________________________
ğŸ§© STEP 3: Connect to Ubuntu EC2
ssh -i mykey.pem ubuntu@<PUBLIC-IP>
________________________________________
ğŸ§© STEP 4: Basic Ubuntu Setup (IMPORTANT)
sudo apt update && sudo apt upgrade -y
Set hostname:
sudo hostnamectl set-hostname web-server
________________________________________
ğŸ” STEP 5: Linux Hardening (Ubuntu Commands)
5.1 Create Non-Root User
sudo adduser appuser
sudo usermod -aG sudo appuser
________________________________________
5.2 SSH Hardening
Edit SSH config:
sudo nano /etc/ssh/sshd_config
Change / confirm:
PermitRootLogin no
PasswordAuthentication no
Restart SSH:
sudo systemctl restart ssh
________________________________________
5.3 Firewall (UFW â€“ Ubuntu Default)
sudo ufw allow OpenSSH
sudo ufw allow 80
sudo ufw allow 443
sudo ufw enable
sudo ufw status
________________________________________
5.4 Automatic Security Updates
sudo apt install unattended-upgrades -y
sudo dpkg-reconfigure unattended-upgrades
________________________________________
ğŸŒ STEP 6: Install Web Server (Nginx)
sudo apt install nginx -y
sudo systemctl enable nginx
sudo systemctl start nginx
Test:
curl localhost
________________________________________
ğŸ§ª STEP 7: Create Sample Web App
sudo nano /var/www/html/index.html
Paste:
<h1>Production Grade Ubuntu Web Server</h1>
<p>Server IP: <?php echo $_SERVER['SERVER_ADDR']; ?></p>
Restart nginx:
sudo systemctl restart nginx
Open browser â†’ EC2 public IP
________________________________________
ğŸ“ˆ STEP 8: Install CloudWatch Agent (Monitoring)
sudo apt install amazon-cloudwatch-agent -y
Create config:
sudo nano /opt/aws/amazon-cloudwatch-agent/bin/config.json
Paste basic config:
{
  "metrics": {
    "metrics_collected": {
      "cpu": {
        "measurement": ["cpu_usage_idle"],
        "metrics_collection_interval": 60
      }
    }
  }
}
Start agent:
sudo /opt/aws/amazon-cloudwatch-agent/bin/amazon-cloudwatch-agent-ctl \
-a start -c file:/opt/aws/amazon-cloudwatch-agent/bin/config.json
________________________________________
ğŸ§© STEP 9: Create AMI from This Instance
Why?
Auto Scaling needs template image
1.	EC2 â†’ Instance â†’ Actions â†’ Create Image
2.	Name:
3.	ubuntu-web-ami
________________________________________
ğŸ§© STEP 10: Create Launch Template
â€¢	AMI: ubuntu-web-ami
â€¢	Instance type: t2.micro
â€¢	IAM role: EC2-CloudWatch-Role
â€¢	Security Group: same as before
________________________________________
ğŸ§© STEP 11: Create Target Group
â€¢	Type: Instance
â€¢	Protocol: HTTP
â€¢	Port: 80
â€¢	Health check path: /
________________________________________
ğŸ§© STEP 12: Create Application Load Balancer (ALB)
â€¢	Internet-facing
â€¢	Attach target group
â€¢	Listener: HTTP 80
________________________________________
ğŸ§© STEP 13: Create Auto Scaling Group
â€¢	Launch template: created earlier
â€¢	Min: 2
â€¢	Desired: 2
â€¢	Max: 5
â€¢	Attach to ALB target group
Scaling Policy
â€¢	CPU > 70% â†’ scale out
â€¢	CPU < 30% â†’ scale in
________________________________________
ğŸš¨ STEP 14: Create SNS Alert
1.	SNS â†’ Create topic â†’ cpu-alerts
2.	Subscribe â†’ Email
3.	CloudWatch Alarm:
o	Metric: CPUUtilization
o	Threshold: > 80%
o	Action: SNS topic
________________________________________
ğŸ§ª STEP 15: TEST LIKE REAL ENGINEER
Generate Load
sudo apt install stress -y
stress --cpu 2 --timeout 300
Observe
â€¢	New EC2 instance launched
â€¢	Email alert received
â€¢	ALB routing traffic
ğŸ”¥ This is real production behavior
________________________________________
ğŸ§¾ HOW TO EXPLAIN IN INTERVIEW (FINAL)
â€œI deployed a production-grade Ubuntu Linux web application on AWS using ALB and Auto Scaling.
I hardened Ubuntu servers by disabling root login, enforcing SSH keys, configuring UFW firewall, and enabling automated patching.
The system scales automatically based on traffic and sends real-time alerts using CloudWatch and SNS.â€
________________________________________
ğŸ¯ What You Achieved
âœ… Linux hardening
âœ… Real Ubuntu server
âœ… High availability
âœ… Auto scaling
âœ… Monitoring & alerts
âœ… Resume-ready project
________________________________________
ğŸ”¥ Next (I strongly recommend)
I can:
â€¢	Convert this into GitHub README
â€¢	Create interview Q&A
â€¢	Write ATS resume bullets
â€¢	Help you record demo video
Just tell me ğŸ‘
                                                  RDS

Good catch ğŸ‘ â€” and youâ€™re right to ask.
Short honest answer
I didnâ€™t give RDS steps earlier because RDS is OPTIONAL for the first phase of this project.
In real projects, engineers often stabilize compute + scaling + monitoring first, then add the database.
Now that your:
â€¢	Ubuntu server âœ…
â€¢	Nginx âœ…
â€¢	Firewall & hardening âœ…
â€¢	CloudWatch & alerts âœ…
are ready â€” this is the PERFECT time to add RDS.
Below is a beginner-friendly, step-by-step RDS setup, explained in real-world terms.
________________________________________
ğŸ§© RDS in This Project â€“ What & Why
 
 
 
Why we use RDS (real reason)
If your app runs on multiple EC2 instances (Auto Scaling):
â€¢	You cannot store data on EC2 disk
â€¢	New instances would lose data
ğŸ‘‰ RDS gives one central, managed database that all EC2s can use.
________________________________________
ğŸ§  Real-World Use Case
Example:
â€¢	User signup
â€¢	Login details
â€¢	Orders
â€¢	Logs
All EC2 instances:
EC2-1 â”€â”
EC2-2 â”€â”¼â”€â”€â–º RDS (MySQL)
EC2-3 â”€â”˜
________________________________________
ğŸ§© STEP-BY-STEP: Create RDS (Beginner Friendly)
________________________________________
âœ… STEP 1: Open RDS Console
AWS Console â†’ RDS â†’ Databases â†’ Create database
________________________________________
âœ… STEP 2: Choose Database Type
Setting	Choose
Creation method	Standard create
Engine	MySQL
Version	Default
Template	Free tier
ğŸ‘‰ MySQL is easiest + most interview-friendly.
________________________________________
âœ… STEP 3: DB Settings
Field	Example
DB instance identifier	prod-db
Master username	admin
Password	Strong password
âš ï¸ Save username & password safely.
________________________________________
âœ… STEP 4: Instance Size
Setting	Value
DB instance class	db.t3.micro
Storage	20 GB (gp2)
Autoscaling	âŒ Off (for learning)
________________________________________
âœ… STEP 5: Connectivity (MOST IMPORTANT)
Setting	Value
VPC	Same as EC2
Public access	âŒ No
VPC security group	Create new
Security Group for RDS
Inbound rule:
MySQL/Aurora | TCP | 3306 | EC2 Security Group
ğŸ§  This means:
â€œOnly my EC2 servers can access the databaseâ€
This is production security.
________________________________________
âœ… STEP 6: Database Options
Setting	Value
Initial DB name	appdb
Backup	Enable
Monitoring	Default
Click Create database â³ (takes ~5 minutes)
________________________________________
ğŸ§ª STEP 7: Connect EC2 â†’ RDS (Hands-On)
1ï¸âƒ£ Install MySQL client on Ubuntu
sudo apt update
sudo apt install mysql-client -y
________________________________________
2ï¸âƒ£ Connect to RDS
mysql -h <RDS-ENDPOINT> -u admin -p
Enter password â†’ connected ğŸ‰
________________________________________
3ï¸âƒ£ Test database
SHOW DATABASES;
USE appdb;

CREATE TABLE users (
  id INT PRIMARY KEY AUTO_INCREMENT,
  name VARCHAR(50),
  email VARCHAR(100)
);

INSERT INTO users VALUES (1,'Test User','test@mail.com');
SELECT * FROM users;
________________________________________
ğŸ”¥ What This Proves (VERY IMPORTANT)
You can now say:
â€¢	EC2 connects to RDS âœ…
â€¢	Data is centralized âœ…
â€¢	Auto Scaling safe architecture âœ…
This upgrades your project level.
________________________________________
ğŸ¤ Interview-Ready Explanation (MEMORIZE)
â€œI used Amazon RDS as a centralized database so that multiple auto-scaled EC2 instances could share persistent data. The database is deployed in a private subnet and accessible only through EC2 security groups for security.â€
This is 6â€“8 LPA level explanation.
________________________________________
ğŸ§  Why RDS Was Step-After (Engineer Logic)
Phase	Reason
EC2 + ALB + ASG	Core availability
Monitoring + Alerts	Stability
RDS	Data persistence
AMI	Scaling
Auto Scaling	Final
You followed the correct real-world order.
________________________________________
ğŸš€ What Next (Recommended)
Next logical steps:
1ï¸âƒ£ Add RDS to architecture diagram
2ï¸âƒ£ Mention RDS in resume bullets
3ï¸âƒ£ Create AMI after DB test
4ï¸âƒ£ Complete Auto Scaling Group
If you want, I can:
â€¢	Help you connect app â†’ RDS
â€¢	Write resume bullets with RDS
â€¢	Explain RDS interview questions
â€¢	Finalize full project flow
Just tell me ğŸ‘
                                                   S3

OPTIONAL: Add S3 (Highly Recommended for Resume)
If you want to strengthen your resume, do this small add-on.
________________________________________
ğŸª£ STEP A: Create S3 Bucket
1ï¸âƒ£ AWS Console â†’ S3 â†’ Create bucket
2ï¸âƒ£ Bucket name:
prod-webapp-logs-iniyavan
3ï¸âƒ£ Region: same as EC2
4ï¸âƒ£ Block public access: âœ… ON
5ï¸âƒ£ Create bucket
________________________________________
ğŸ§© STEP B: Update IAM Role (IMPORTANT)
Add policy to EC2 role:
AmazonS3FullAccess
(or better: limited custom policy)
Why?
â†’ EC2 needs permission to write logs to S3
________________________________________
ğŸ§© STEP C: Send Nginx Logs to S3 (Simple Version)
On Ubuntu EC2:
sudo apt install awscli -y
Test access:
aws s3 ls
If it works â†’ IAM role is correct.
________________________________________
Upload logs manually (demo purpose):
aws s3 cp /var/log/nginx/access.log s3://prod-webapp-logs-iniyavan/
aws s3 cp /var/log/nginx/error.log s3://prod-webapp-logs-iniyavan/
âœ… Logs now stored in S3



Chatgpt link :  https://chatgpt.com/share/697219b5-7098-8005-ae7d-ddd499722a86


